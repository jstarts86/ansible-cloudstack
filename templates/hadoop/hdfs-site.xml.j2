<configuration>
  {% if 'hadoop_namenode' in group_names %}
  <property>
      <name>dfs.namenode.name.dir</name>
      <value>{{ name_node_dir }}</value>
  </property>
  <property>
      <name>dfs.namenode.kerberos.principal</name>
      <value>hdfs/{{ inventory_hostname }}@{{ kerberos_realm }}</value>
  </property>
  <property>
      <name>dfs.secondary.namenode.kerberos.principal</name>
      <value>hdfs/{{ inventory_hostname }}@{{ kerberos_realm }}</value>
  </property>
  {% endif %}

  {% if 'hadoop_datanode' in group_names %}
  <property>
      <name>dfs.datanode.data.dir</name>
      <value>{{ data_node_dir }}</value>
  </property>
  <property>
      <name>dfs.datanode.kerberos.principal</name>
      <value>hdfs/{{ inventory_hostname }}@{{ kerberos_realm }}</value>
  </property>
  {% endif %}

  {% if 'hadoop_namenode' in group_names or 'hadoop_datanode' in group_names %}
  <property>
      <name>dfs.web.authentication.kerberos.principal</name>
      <value>HTTP/{{ inventory_hostname }}@{{ kerberos_realm }}</value>
  </property>
  {% endif %}
</configuration>

